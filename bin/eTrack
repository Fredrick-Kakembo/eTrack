#! /bin/bash
# set -eu

## 0.SOFTWARE MENU------------------------------------------ ##########

## 1. QUALITY CONTROL AND TRIMMING METHODS

mkdir Fastqc_files # Create out put directory for the fastqc files
fastqc data/*.fastq -o Fastqc_files # Run fastqc on all fastq files in the data directory

## Perform multiqc for the Forward and Reverse Reads separately
multiqc Fastqc_files/ --ignore *_trim2_* && mv multiqc_data multiqc_R1_data && mv multiqc_report.html multiqc_report_R1.html #Forward
multiqc Fastqc_files/ --ignore *_trim1_* && mv multiqc_data multiqc_R2_data && mv multiqc_report.html multiqc_report_R2.html #Reverse

## 2. ASSEMBLY, SCAFFOLDING, ANNOTATION
unicycler -1 ${sample}_trim1.fastq -2 ${sample}_trim2.fastq -o assembly/${sample}_results
prokka  --outdir prokka_results/${sample}_prokka_output assembly/${sample}_results/assembly.fasta
## 3. VARIANT CALLING
snippy --outdir snippy_results/${sample}_snippy_results --ref reference.fna --ctgs assembly/${sample}_results/assembly.fasta 
## 4. AMR, VIRULENCE FACTORS, MLST AND PLASMIDS DETECTION

## 5. PANGENOME ANALYSIS

## 6. PHYLOGENETICS

## REPORTING
